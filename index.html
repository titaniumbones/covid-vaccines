<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8"/>
        <title>Ontario COVID Vaccinations</title>
        
        <!-- time parser -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js" integrity="sha512-qTXRIMyZIFb8iQcfjXWCO8+M5Tbc38Qi5WzdPOYZHIlZpzBHG3L3by84BBBOiRGiEb7KKtAOAs5qYdUiZiQNNQ==" crossorigin="anonymous"></script>
        <!-- chart.js -->
        <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
        <link href="./style.css" rel="stylesheet"/>
    </head>
    <body>
        <!-- <div id="onvac"></div>
             <div class="ct-chart ct-perfect-fourth"></div> -->
        <header>
            <h1>Ontario Vaccination</h1>

            <p>
                These charts use data from <a href="https://opencovid.ca">the Open Covid Data Working Group</a> to display vacicnation progress in Ontario and compare per-capita values with other Canadian provinces (using population data from <a href="https://www150.statcan.gc.ca/t1/tbl1/en/tv.action?pid=1710000901">Statistics Canada</a>).
                See the link for more details on data sources.
                I am neither an epidemiologist nor a government official so please don't use this dasboard for anything other than personal curiosity.
                The code is on <a href="https://github.com/titaniumbones/covid-vaccines/">Github</a> and is pretty primitive!
                The "at current rates" projection just averages the number of vaccinations over the last week -- this number will presumably become more reliable as we move out of the holidays.
                Data is usually updated in the evening -- we check hourly from 7 to midnight (sorry, can't do real-time checks any more -- we unfortunately need to use a proxy and the service I was using is too unreliable.)
            </p>
            <p>
                "Immune Percentages" chart is even less reliable than other graphs on this page -- we still don't know all that much about immune duration in COVID, how its related to disease severity, etc.;
                may people have presumably been infected but are not included in the case count;
                and presumably there will be some overlap between immunized and recovered patients.
            </p> 
        </header>
        <main>
        <figure id="chartfig">
            <canvas id="chartJS"></canvas>
            <figcaption id="chartcap">At current rates, we will be done on approximately <span id="endDate"></span></figcaption>
        </figure>
        <script src="./data.js"></script>

        <figure id="provincesfig">
            <canvas id="provinceChart"></canvas>
            <figcaption id="provincesCap">Green if you're above national average, red if below</figcaption>
        </figure>
        <figure id="stackedfig">
            <canvas id="stackedChart"></canvas>
            <figcaption id="stackedCap"></figcaption>
        </figure>
        
        </main>
    </body>
</html>
